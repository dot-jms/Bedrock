<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Bedrock Portal</title>
<link rel="icon" href="favicon.png" type="image/png">
<style>
  :root{
    --bg:#04040a;
    --muted:#9aa3a8;
    --accent:#8ef6c1;
    --purple-strong: rgba(150,85,255,0.22);
    --tile-purple: rgba(138,75,230,0.14);
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  }
  html,body{height:100%;margin:0;background:var(--bg);color:#eef2f5}
  *{box-sizing:border-box}
  a{color:inherit;text-decoration:none}

  /* background layers */
  canvas#bg{position:fixed;inset:0;z-index:0;pointer-events:none;display:block}
  .vignette{
    position:fixed;inset:0;z-index:1;pointer-events:none;
    background:
      radial-gradient(40% 40% at 10% 10%, rgba(150,85,255,0.16), transparent 20%),
      radial-gradient(50% 50% at 90% 90%, rgba(122,58,210,0.12), transparent 24%),
      linear-gradient(180deg, rgba(8,6,14,0.04), rgba(2,2,6,0.08));
    mix-blend-mode:screen;
  }

  /* portal card w/ visible purple border + glow */
  .wrap{position:relative;z-index:2;min-height:100vh;display:flex;align-items:flex-start;justify-content:center;padding:32px}
  .card{
    width:100%;max-width:1180px;padding:22px;border-radius:16px;
    background:linear-gradient(180deg, rgba(255,255,255,0.007), rgba(255,255,255,0.003));
    border:1px solid rgba(255,255,255,0.03);
    box-shadow:0 20px 70px rgba(0,0,0,0.65);
    position:relative; overflow:visible;
  }
  .card::before{
    content:"";
    position:absolute; inset:-10px; border-radius:20px; z-index:-1;
    background: linear-gradient(90deg, var(--purple-strong), rgba(122,58,210,0.08));
    filter: blur(18px);
    pointer-events:none;
  }

  /* header */
  .hdr{display:flex;align-items:center;gap:12px;margin-bottom:12px}
  .logo{width:56px;height:56px;border-radius:10px;background:linear-gradient(180deg,#101217,#081018);display:grid;place-items:center;color:var(--accent);font-weight:700}
  .logo img{width:48px;height:48px;border-radius:8px;display:block}
  h1{margin:0;font-size:20px}
  .muted{color:var(--muted);font-size:13px}

  /* layout */
  .cols{display:grid;grid-template-columns:240px 1fr;gap:18px}
  nav.side{padding:12px;border-radius:10px;display:flex;flex-direction:column;gap:8px}
  nav .brand{display:flex;flex-direction:column;gap:6px;align-items:flex-start}
  nav button{
    display:flex;align-items:center;gap:10px;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);
    background:transparent;color:inherit;cursor:pointer;font-weight:700;font-size:14px;
    transition:transform .12s ease, box-shadow .12s ease, background .12s, color .12s;
  }
  nav button.active{
    background: linear-gradient(90deg, rgba(142,246,193,0.06), rgba(140,90,240,0.05));
    color:var(--accent);
    box-shadow:0 10px 36px rgba(140,90,240,0.06);
    transform:translateY(-3px);
  }

  .content{min-height:520px;padding:14px;border-radius:10px;display:flex;flex-direction:column}

  /* Games: centered area */
  .gamesCenter {
    flex:1; display:flex; align-items:center; justify-content:center; flex-direction:column; gap:18px; min-height:320px;
  }

  .launchBig{
    display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:18px 30px;border-radius:16px;border:0;background:var(--accent);color:#041010;font-weight:900;cursor:pointer;
    box-shadow: 0 18px 44px rgba(10,20,20,0.5); font-size:18px; transition: transform .12s cubic-bezier(.2,.9,.3,1), box-shadow .12s ease;
    outline:none;
  }
  .launchBig:active{ transform:translateY(2px); box-shadow:0 10px 28px rgba(10,20,20,0.35) }

  /* Idle pulse (subtle). We'll toggle this with JS so hover can pause it. */
  @keyframes idlePulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.03); }
    100% { transform: scale(1); }
  }
  .launchBig.idle { animation: idlePulse 2.6s ease-in-out infinite; }

  /* Hover effect ‚Äî scale up a bit while hovering. This overrides the idle animation via JS. */
  .launchBig.hovered { transform: scale(1.08); box-shadow: 0 22px 60px rgba(150,85,255,0.12); }

  /* Tools tiles */
  .toolsGrid{display:grid;grid-template-columns:repeat(2,1fr);gap:14px;margin-top:14px}
  .toolTile{
    border-radius:14px;padding:14px;border:1px solid rgba(255,255,255,0.03);
    min-height:110px;display:flex;flex-direction:column;justify-content:space-between;
    cursor:pointer; transition:transform .12s ease, box-shadow .12s ease, background .12s; background:var(--tile-purple);
  }
  .toolTile:hover{ background:rgba(138,75,230,0.22); transform:translateY(-6px); box-shadow:0 18px 44px rgba(120,60,220,0.10); }
  .toolTile h3{margin:0;font-size:16px;color:#e8d9ff}
  .toolTile p{margin:0;color:var(--muted);font-size:13px}
  .smallBtn{padding:8px 10px;border-radius:8px;border:0;background:rgba(255,255,255,0.06);color:#eafaf0;font-weight:700;cursor:pointer}

  .footRow{display:flex;justify-content:space-between;align-items:center;margin-top:12px;color:var(--muted);font-size:13px}

  @media (max-width:920px){ .cols{grid-template-columns:1fr} .toolsGrid{grid-template-columns:1fr} .gamesHeader{flex-direction:column;align-items:center} }
</style>
</head>
<body>
  <canvas id="bg" aria-hidden="true"></canvas>
  <div class="vignette" aria-hidden="true"></div>

  <div class="wrap">
    <div class="card" role="main" aria-live="polite">
      <div class="hdr">
        <div class="logo" aria-hidden="true"><img src="favicon.png" alt="Bedrock logo"></div>
        <div>
          <h1>Bedrock Portal</h1>
          <div class="muted" id="who">friends-only lobby</div>
        </div>

        <div style="margin-left:auto;display:flex;gap:8px;align-items:center">
          <button id="signout" class="smallBtn" title="Sign out">Sign out</button>
        </div>
      </div>

      <div class="cols">
        <nav class="side" aria-label="categories">
          <div class="brand"><strong style="letter-spacing:2px;color:var(--accent)">BEDROCK</strong><span class="muted" style="font-size:12px">portal</span></div>
          <button data-tab="home" class="active">üè† Home</button>
          <button data-tab="games">üéÆ Games</button>
          <button data-tab="tools">üõ†Ô∏è Tools</button>
        </nav>

        <section class="content" id="content">
          <!-- HOME -->
          <div id="home" class="tab">
            <h2 style="margin-top:0">Welcome</h2>
            <p class="muted">Use the left nav to pick Games or Tools. Games is friends-only ‚Äî hit LAUNCH under Games to go to the hub.</p>
          </div>

          <!-- GAMES (only the centered launch button) -->
          <div id="games" class="tab" style="display:none">
            <div class="gamesCenter" aria-label="launch area">
              <div style="width:100%;max-width:720px;text-align:center">
                <h2 style="margin:0">Games</h2>
                <div class="muted" style="margin-top:6px">Press the big button to open the Bedrock Games hub.</div>
              </div>

              <!-- Centered launch button:
                   - .idle class = subtle pulse when not hovered
                   - .hovered class = stronger scale while hovered -->
              <button id="launchGames" class="launchBig idle" title="Open Bedrock Games page">üöÄ LAUNCH BEDROCK GAMES</button>

              <div style="max-width:720px;text-align:center;color:var(--muted);font-size:14px">The Games tab intentionally only contains the Launch button to keep things minimal.</div>
            </div>
          </div>

          <!-- TOOLS -->
          <div id="tools" class="tab" style="display:none">
            <h2 style="margin-top:0">Tools</h2>
            <div class="muted">Click a tile to open the tool in a new tab.</div>

            <div class="toolsGrid" style="margin-top:12px">
              <div class="toolTile" onclick="openExternal('https://www.remove.bg/')">
                <div><h3>remove.bg</h3><p>Auto background remover ‚Äî fast & browser-based.</p></div>
                <div><button class="smallBtn" onclick="openExternal('https://www.remove.bg/'); event.stopPropagation()">Open</button></div>
              </div>

              <div class="toolTile" onclick="openExternal('https://www.photopea.com/')">
                <div><h3>Photopea</h3><p>Photoshop-like editor that runs in your browser ‚Äî great for Chromebooks.</p></div>
                <div><button class="smallBtn" onclick="openExternal('https://www.photopea.com/'); event.stopPropagation()">Open</button></div>
              </div>

              <div class="toolTile" onclick="openExternal('https://pixlr.com/')">
                <div><h3>Pixlr</h3><p>Fast image edits with E/X modes.</p></div>
                <div><button class="smallBtn" onclick="openExternal('https://pixlr.com/'); event.stopPropagation()">Open</button></div>
              </div>

              <div class="toolTile" onclick="openExternal('https://tinypng.com/')">
                <div><h3>TinyPNG</h3><p>Compress PNG / JPG files to shrink uploads.</p></div>
                <div><button class="smallBtn" onclick="openExternal('https://tinypng.com/'); event.stopPropagation()">Open</button></div>
              </div>

              <div class="toolTile" onclick="openExternal('https://www.iloveimg.com/')">
                <div><h3>iLoveIMG</h3><p>Convert, resize, crop, and convert to PDF.</p></div>
                <div><button class="smallBtn" onclick="openExternal('https://www.iloveimg.com/'); event.stopPropagation()">Open</button></div>
              </div>

              <div class="toolTile" onclick="openExternal('https://www.canva.com/')">
                <div><h3>Canva</h3><p>Design templates & thumbnails (may require an account).</p></div>
                <div><button class="smallBtn" onclick="openExternal('https://www.canva.com/'); event.stopPropagation()">Open</button></div>
              </div>
            </div>
          </div>

          <div class="footRow">
            <div>Made for friends ‚Ä¢ low-stakes</div>
            <div>Bedrock ‚Ä¢ 2025</div>
          </div>
        </section>
      </div>
    </div>
  </div>

  <script>
    /* ---------------------------
       STARFIELD (bigger, denser)
       --------------------------- */
    (function(){
      const canvas = document.getElementById('bg');
      const ctx = canvas.getContext('2d');
      let w = canvas.width = innerWidth;
      let h = canvas.height = innerHeight;

      const STAR_COUNT = Math.floor((w*h)/3500);
      const stars = [];
      function rand(min,max){ return Math.random()*(max-min)+min }
      for(let i=0;i<STAR_COUNT;i++){
        stars.push({
          x: Math.random()*w,
          y: Math.random()*h,
          z: rand(0.6,1.6),
          r: rand(1.6,4.0),
          vx: rand(-0.03,0.03),
          vy: rand(-0.06,0.06),
          t: Math.random()*10
        });
      }

      function resize(){
        w = canvas.width = innerWidth;
        h = canvas.height = innerHeight;
      }
      addEventListener('resize', resize);

      function draw(){
        ctx.clearRect(0,0,w,h);
        const g = ctx.createLinearGradient(0,0,w,h);
        g.addColorStop(0,'rgba(12,12,20,0.14)');
        g.addColorStop(1,'rgba(2,6,12,0.24)');
        ctx.fillStyle = g;
        ctx.fillRect(0,0,w,h);

        const t = Date.now()/2200;
        for(const s of stars){
          s.x += s.vx * (s.z*1.6);
          s.y += s.vy * (s.z*1.6);
          const tw = Math.abs(Math.sin(t + s.t));
          if(s.x<0) s.x = w;
          if(s.x>w) s.x = 0;
          if(s.y<0) s.y = h;
          if(s.y>h) s.y = 0;
          ctx.beginPath();
          ctx.globalAlpha = 0.75 * s.z * (0.3 + tw*0.7);
          ctx.fillStyle = "white";
          ctx.arc(s.x, s.y, s.r * s.z, 0, Math.PI*2);
          ctx.fill();
          ctx.globalAlpha = 1;
        }
        requestAnimationFrame(draw);
      }
      draw();
    })();

    /* ---------------------------
       ACCESS CONTROL
       --------------------------- */
    (function checkAuthorized(){
      try {
        const saved = localStorage.getItem('bedrock_auth') || '';
        if (!saved) location.href = 'index.html';
        else document.getElementById('who').textContent = 'signed in';
      } catch (e) { location.href = 'index.html'; }
    })();

    /* ---------------------------
       TABS logic
       --------------------------- */
    const navBtns = document.querySelectorAll('nav.side button');
    navBtns.forEach(btn=>{
      btn.addEventListener('click', ()=>{
        navBtns.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const tab = btn.getAttribute('data-tab') || btn.textContent.toLowerCase().trim();
        document.querySelectorAll('.tab').forEach(t=>t.style.display='none');
        const el = document.getElementById(tab);
        if(el) el.style.display = '';
      });
    });

    /* ---------------------------
       LAUNCH BUTTON idle/hover behavior
       --------------------------- */
    const launch = document.getElementById('launchGames');
    if(launch){
      // keep subtle idle pulse until the mouse enters
      function onEnter(){
        launch.classList.remove('idle');
        launch.classList.add('hovered');
      }
      function onLeave(){
        launch.classList.remove('hovered');
        launch.classList.add('idle');
      }
      launch.addEventListener('mouseenter', onEnter);
      launch.addEventListener('mouseleave', onLeave);
      // keep idle initially when Games tab becomes visible
      // (if Games tab active on load, ensure idle present)
      document.addEventListener('DOMContentLoaded', ()=> {
        if(launch && !launch.classList.contains('idle') && !launch.classList.contains('hovered')) launch.classList.add('idle');
      });
    }

    /* ---------------------------
       SIGN OUT
       --------------------------- */
    document.getElementById('signout').addEventListener('click', ()=>{
      try { localStorage.removeItem('bedrock_auth'); } catch(_) {}
      location.href = 'index.html';
    });

    /* ---------------------------
       LAUNCH GAMES (opens hub)
       --------------------------- */
    launch && launch.addEventListener('click', ()=>{
      launch.style.transform = 'scale(0.98)';
      setTimeout(()=> launch.style.transform = '', 120);
      location.href = 'games.html';
    });

    /* ---------------------------
       OPEN EXTERNAL helper
       --------------------------- */
    function openExternal(url){ window.open(url, '_blank', 'noopener'); }
  </script>
</body>
</html>
